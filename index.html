<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>FongMi Service</title>
    <script>
        // 检测TVBox并重定向
        function isTVBoxUserAgent() {
            const ua = navigator.userAgent.toLowerCase();
            const tvboxIndicators = [
                'okhttp', 'tvbox', 'catvod', 'tang', '影视仓',
                'androlua', 'lua', 'p2p', 'tv.player', 'tv/',
                'android.tv', 'tvos', 'smarttv', 'fongmi', 'easybox'
            ];
            
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('tvbox') || urlParams.get('catvod')) {
                return true;
            }
            
            return tvboxIndicators.some(indicator => ua.includes(indicator));
        }
        
        // 立即重定向
        if (isTVBoxUserAgent()) {
            window.location.replace('./data.json');
        } else {
            // 普通浏览器访问引导页面
            window.location.replace('./guide.html');
        }
    </script>
</head>
<body>
    <p>正在检测设备类型并重定向...</p>
</body>
</html>